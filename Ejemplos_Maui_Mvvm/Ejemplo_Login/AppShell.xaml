<?xml version="1.0" encoding="UTF-8" ?>
<Shell x:Class="Ejemplo_Login.AppShell"
        xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
        xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
        xmlns:local="clr-namespace:Ejemplo_Login"
        xmlns:pages="clr-namespace:Ejemplo_Login.Pages"        
        Title="Login">

    <!--<Shell.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Resources/Styles/Colors.xaml" />
                <ResourceDictionary Source="Resources/Styles/Styles.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Shell.Resources>

    --><!-- Ahora los recursos ya están cargados --><!--
    <Shell.FlyoutBackgroundColor>
        <x:AppThemeBinding  Light="{StaticResource White}" Dark="{StaticResource OffBlack}" />
    </Shell.FlyoutBackgroundColor>-->

    <!--
    configurado en Styles.xaml
    o aquí
    <Shell.Resources>
        <ResourceDictionary>
            <Style x:Key="FlyoutHeaderLabelStyle" TargetType="Label">
                <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
                <Setter Property="FontSize" Value="16" />
                <Setter Property="VerticalOptions" Value="Center" />
            </Style>
        </ResourceDictionary>
    </Shell.Resources>
    -->

    <!--Diseño header -->

    <Shell.FlyoutHeader>
        <VerticalStackLayout>
            <Image WidthRequest="100">
                <Image.Source>
                    <x:AppThemeBinding Light="header_flyout.png" Dark="header_flyout_dark.png"/>
                </Image.Source>
            </Image>
            <Label x:Name="lbUsuario" Text="Ejemplo Login" Style="{StaticResource FlyoutHeaderLabelStyle}" FontSize="Title" HorizontalTextAlignment="Center"></Label>
        </VerticalStackLayout>
    </Shell.FlyoutHeader>

    <!--Diseño items -->

    <Shell.ItemTemplate>
        <DataTemplate>
            <HorizontalStackLayout Padding="10" Spacing="10" VerticalOptions="Center">
                <Image Source="{Binding FlyoutIcon}" WidthRequest="30" HeightRequest="30"  />
                <Label Text="{Binding Title}" Style="{StaticResource FlyoutHeaderLabelStyle}" />
            </HorizontalStackLayout>
        </DataTemplate>
    </Shell.ItemTemplate>

    <Shell.MenuItemTemplate>
        <DataTemplate>
            <HorizontalStackLayout Padding="10" Spacing="10" VerticalOptions="Center">
                <Image Source="{Binding FlyoutIcon}" WidthRequest="30" HeightRequest="30"  />
                <Label Text="{Binding Title}" Style="{StaticResource FlyoutHeaderLabelStyle}" />
            </HorizontalStackLayout>
        </DataTemplate>
    </Shell.MenuItemTemplate>

    <!-- -->

    <ShellContent Title="Home" ContentTemplate="{DataTemplate pages:MainPage}" Route="MainPage" >
        <ShellContent.Icon>
            <FontImageSource Glyph="contact_page" FontFamily="MaterialIconsOutlined" Color="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
        </ShellContent.Icon>
    </ShellContent>

    <ShellContent Title="Detalle" ContentTemplate="{DataTemplate pages:DetailPage}" Route="DetailPage" >
        <ShellContent.Icon>
            <FontImageSource Glyph="contact_page" FontFamily="MaterialIconsOutlined" Color="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
        </ShellContent.Icon>
    </ShellContent>

    <MenuItem Text="Logout" Command="{Binding LogoutCommand}" >
        <MenuItem.IconImageSource>
            <FontImageSource Glyph="contact_page" FontFamily="MaterialIconsOutlined" Size="24" Color="Black"  />
        </MenuItem.IconImageSource>
    </MenuItem>


    <!--De esta manera no va a aparecer en el menu del flyout-->
    <ShellContent Title="Login" ContentTemplate="{DataTemplate pages:LoginPage}"  Route="LoginPage"
              FlyoutItemIsVisible="False" Shell.NavBarIsVisible="False" />
    

</Shell>
